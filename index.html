<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Gerenciamento de Cadastro</title>
</head>
<body>
    <h1>Bem-vindos ao nosso site:</h1>

    <div class="container">
        <h2>Escolha uma opção:</h2>
        <nav class="main-nav">
            <ul>
                <li><a href="inserir_cadastro.php">Inserir Novo Cadastro</a></li>
                <li><a href="consultar_cadastro.php">Consultar Cadastros</a></li>
                <li><a href="deletar_cadastro.php">Deletar Cadastro</a></li>
            </ul>
        </nav>
        
        <div id="feedback-message"></div>

    </div>

    <script src="script.js"></script>
    <script>
        // Este script JavaScript ainda vai exibir as mensagens de feedback
        // que vêm do processar_formulario.php após um redirecionamento.
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const status = urlParams.get('status');
            const message = urlParams.get('message');
            const feedbackDiv = document.getElementById('feedback-message');

            if (status && message && feedbackDiv) {
                feedbackDiv.textContent = decodeURIComponent(message);
                feedbackDiv.style.padding = '10px';
                feedbackDiv.style.borderRadius = '5px';
                feedbackDiv.style.textAlign = 'center';
                feedbackDiv.style.marginTop = '20px';

                if (status === 'success') {
                    feedbackDiv.style.backgroundColor = '#d4edda';
                    feedbackDiv.style.color = '#155724';
                    feedbackDiv.style.border = '1px solid #c3e6cb';
                } else if (status === 'error') {
                    feedbackDiv.style.backgroundColor = '#f8d7da';
                    feedbackDiv.style.color = '#721c24';
                    feedbackDiv.style.border = '1px solid #f5c6cb';
                }

                // Opcional: Limpar os parâmetros da URL e a mensagem depois de um tempo
                setTimeout(() => {
                    const newUrl = window.location.protocol + "//" + window.location.host + window.location.pathname;
                    window.history.replaceState({ path: newUrl }, '', newUrl);
                    feedbackDiv.remove();
                }, 5000); // Remove após 5 segundos
            }
        });
    </script>
</body>
</html>